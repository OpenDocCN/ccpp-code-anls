# `xmrig\src\3rdparty\CL\cl_version.h`

```
#ifndef __CL_VERSION_H
#define __CL_VERSION_H

/* 如果未定义 CL_TARGET_OPENCL_VERSION，则输出消息并将其默认设置为 220（OpenCL 2.2） */
#if !defined(CL_TARGET_OPENCL_VERSION)
#pragma message("cl_version.h: CL_TARGET_OPENCL_VERSION is not defined. Defaulting to 220 (OpenCL 2.2)")
#define CL_TARGET_OPENCL_VERSION 220
#endif
/* 如果 CL_TARGET_OPENCL_VERSION 不是 100、110、120、200，则继续执行下面的代码 */
#if CL_TARGET_OPENCL_VERSION != 100 && \
    CL_TARGET_OPENCL_VERSION != 110 && \
    CL_TARGET_OPENCL_VERSION != 120 && \
    CL_TARGET_OPENCL_VERSION != 200 && \
    # 检查 OpenCL 目标版本是否不等于 210 并且不等于 220
    CL_TARGET_OPENCL_VERSION != 210 && \
    CL_TARGET_OPENCL_VERSION != 220
#pragma message("cl_version: CL_TARGET_OPENCL_VERSION is not a valid value (100, 110, 120, 200, 210, 220). Defaulting to 220 (OpenCL 2.2)")
// 如果 CL_TARGET_OPENCL_VERSION 不是有效值（100, 110, 120, 200, 210, 220），则输出默认值为 220 (OpenCL 2.2)

#undef CL_TARGET_OPENCL_VERSION
// 取消之前定义的 CL_TARGET_OPENCL_VERSION

#define CL_TARGET_OPENCL_VERSION 220
// 定义 CL_TARGET_OPENCL_VERSION 为 220

#endif
// 结束条件编译指令

/* OpenCL Version */
// OpenCL 版本

#if CL_TARGET_OPENCL_VERSION >= 220 && !defined(CL_VERSION_2_2)
// 如果 CL_TARGET_OPENCL_VERSION 大于等于 220 并且 CL_VERSION_2_2 未定义
#define CL_VERSION_2_2  1
// 定义 CL_VERSION_2_2 为 1
#endif

#if CL_TARGET_OPENCL_VERSION >= 210 && !defined(CL_VERSION_2_1)
// 如果 CL_TARGET_OPENCL_VERSION 大于等于 210 并且 CL_VERSION_2_1 未定义
#define CL_VERSION_2_1  1
// 定义 CL_VERSION_2_1 为 1
#endif

#if CL_TARGET_OPENCL_VERSION >= 200 && !defined(CL_VERSION_2_0)
// 如果 CL_TARGET_OPENCL_VERSION 大于等于 200 并且 CL_VERSION_2_0 未定义
#define CL_VERSION_2_0  1
// 定义 CL_VERSION_2_0 为 1
#endif

#if CL_TARGET_OPENCL_VERSION >= 120 && !defined(CL_VERSION_1_2)
// 如果 CL_TARGET_OPENCL_VERSION 大于等于 120 并且 CL_VERSION_1_2 未定义
#define CL_VERSION_1_2  1
// 定义 CL_VERSION_1_2 为 1
#endif

#if CL_TARGET_OPENCL_VERSION >= 110 && !defined(CL_VERSION_1_1)
// 如果 CL_TARGET_OPENCL_VERSION 大于等于 110 并且 CL_VERSION_1_1 未定义
#define CL_VERSION_1_1  1
// 定义 CL_VERSION_1_1 为 1
#endif

#if CL_TARGET_OPENCL_VERSION >= 100 && !defined(CL_VERSION_1_0)
// 如果 CL_TARGET_OPENCL_VERSION 大于等于 100 并且 CL_VERSION_1_0 未定义
#define CL_VERSION_1_0  1
// 定义 CL_VERSION_1_0 为 1
#endif

/* Allow deprecated APIs for older OpenCL versions. */
// 允许旧版本 OpenCL 的废弃 API

#if CL_TARGET_OPENCL_VERSION <= 210 && !defined(CL_USE_DEPRECATED_OPENCL_2_1_APIS)
// 如果 CL_TARGET_OPENCL_VERSION 小于等于 210 并且 CL_USE_DEPRECATED_OPENCL_2_1_APIS 未定义
#define CL_USE_DEPRECATED_OPENCL_2_1_APIS
// 定义 CL_USE_DEPRECATED_OPENCL_2_1_APIS
#endif

#if CL_TARGET_OPENCL_VERSION <= 200 && !defined(CL_USE_DEPRECATED_OPENCL_2_0_APIS)
// 如果 CL_TARGET_OPENCL_VERSION 小于等于 200 并且 CL_USE_DEPRECATED_OPENCL_2_0_APIS 未定义
#define CL_USE_DEPRECATED_OPENCL_2_0_APIS
// 定义 CL_USE_DEPRECATED_OPENCL_2_0_APIS
#endif

#if CL_TARGET_OPENCL_VERSION <= 120 && !defined(CL_USE_DEPRECATED_OPENCL_1_2_APIS)
// 如果 CL_TARGET_OPENCL_VERSION 小于等于 120 并且 CL_USE_DEPRECATED_OPENCL_1_2_APIS 未定义
#define CL_USE_DEPRECATED_OPENCL_1_2_APIS
// 定义 CL_USE_DEPRECATED_OPENCL_1_2_APIS
#endif

#if CL_TARGET_OPENCL_VERSION <= 110 && !defined(CL_USE_DEPRECATED_OPENCL_1_1_APIS)
// 如果 CL_TARGET_OPENCL_VERSION 小于等于 110 并且 CL_USE_DEPRECATED_OPENCL_1_1_APIS 未定义
#define CL_USE_DEPRECATED_OPENCL_1_1_APIS
// 定义 CL_USE_DEPRECATED_OPENCL_1_1_APIS
#endif

#if CL_TARGET_OPENCL_VERSION <= 100 && !defined(CL_USE_DEPRECATED_OPENCL_1_0_APIS)
// 如果 CL_TARGET_OPENCL_VERSION 小于等于 100 并且 CL_USE_DEPRECATED_OPENCL_1_0_APIS 未定义
#define CL_USE_DEPRECATED_OPENCL_1_0_APIS
// 定义 CL_USE_DEPRECATED_OPENCL_1_0_APIS
#endif

#endif  /* __CL_VERSION_H */
// 结束条件编译指令
```